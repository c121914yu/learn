<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>刮刮卡</title>
	</head>
	<style type="text/css">
		body,html{
			margin: 0;
		}
		canvas{
			position: absolute;
		}
		img{
			position: absolute;
			width: 400px;
			height: 400px;
			top: 80px;
			left: 150px;
		}
	</style>
	<body>
		<img src="../img/Arabit.jpg" >
		<canvas id="canvas" width="1000" height="1000">
			请升级浏览器
		</canvas>
		
		<script type="text/javascript">
			let canvas = document.getElementById('canvas')
			if(canvas.getContext){
				let ctx = canvas.getContext('2d')
				
				//将图片用灰色盖住
				ctx.beginPath()
				ctx.fillStyle = "#e6e6e6"
				ctx.fillRect(100,30,600,600)
				
				ctx.lineWidth = 30
				// ctx.strokeStyle = "pink"
				
				ctx.globalCompositeOperation = 'destination-out'
				ctx.lineCap = 'round' //画笔形状
				
				canvas.onmousedown = (e) => {
					let x = e.clientX - canvas.offsetLeft
					let y = e.clientY - canvas.offsetTop
					ctx.moveTo(x,y)
					
					canvas.onmousemove = (e) => {
						let x = e.clientX - canvas.offsetLeft
						let y = e.clientY - canvas.offsetTop
						ctx.lineTo(x,y)
						ctx.stroke()
					}
					canvas.onmouseup = (e) => {
						canvas.onmousemove = ""
					}
				}
			}
		</script>
	</body>
</html>
